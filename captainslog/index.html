<!DOCTYPE html>

<html>

<head>
	<title>Captain's Log</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script>
		$(document).ready(function(){
			$("#msg").change(function update() {
				console.log("in handler function")
				newEntry = document.getElementById("msg").value;
				starDate = new Date();

				timeStamp = starDate.toDateString () + ", " + starDate.toTimeString();
				newLog = timeStamp + " - " + newEntry;

				$("#log").prepend("<p>"+newLog+"</p>");
				data = localStorage.getItem("captainsLog");
				if (data == null){
					data = '';
				}
				data = "<p>"+newLog+"</p>" + data;
				localStorage.setItem("captainsLog",data);
				console.log(localStorage.getItem("captainsLog"));
			});
		});
		</script>
</head>

<body>
	<h1>Captain's Log</h1>
	<h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
	<div id="log"></div>
</body>
</html>
